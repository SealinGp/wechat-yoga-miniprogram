# 前端

现在开发前端的技术日新月异 、各种框架和相关的工具也多如繁星。常常学习和使用它们所需的资源甚至超过项目本身。

我们在这里将尽量避免使用第三方工具和框架。

在开发前端的过程中，最让人困扰和影响代码质量的，莫过于需要频繁查询特定HTML元素，然后要命名一个相关变量，最后还要绑定它的如鼠标单击的特种事件。我们将通过几行代码来解决这些问题。

```html
  <custom-drawer bind="customDrawer"></custom-drawer>
  <custom-header title="瑜伽" bind @click="showDrawer"></custom-header>
```

我们用 `bind` 属性来标记元素，然后用该属性的值作为 `window` 对象的变量缓存该元素。例如 `window['customDrawer']`。

我们用  `@` 作为前缀，来绑定元素的事件。而实现这种规则的代码如下。

```javascript
document.querySelectorAll('[bind]').forEach(element => {
  if (element.getAttribute('bind')) {
    window[element.getAttribute('bind')] = element;
  }
  [...element.attributes].filter(attr => attr.nodeName.startsWith('@')).forEach(attr => {
    if (!attr.value) return;
    element.addEventListener(attr.nodeName.slice(1), evt => {
      window[attr.value](evt);
    });
  });
})

```

- https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver
- https://developer.mozilla.org/en-US/docs/Web/API/History
- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link
- https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute
- https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent
- https://lit.dev/docs/