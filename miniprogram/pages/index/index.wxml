<wxs module="formattor">
  module.exports = {
    format: function (ms) {
      var date = getDate(ms * 1000);
      var month = date.getMonth() + 1;
      var day = date.getDate();
      return date.getFullYear() + "-" + (month >= 10 ? month : '0' + month) + "-" + (day >= 10 ? day : '0' + day);
    }
  }
</wxs>
<view class="asdjfo" style="height:{{app.globalData.navHeight}}px;padding-top:{{app.globalData.navTop}}px;">
  <view class="gakefo">
    <view>瑜伽约课工具</view>
    <swiper style="font-size: 20rpx;color: #999;height: 32rpx;" vertical="true" circular="true" duration="300" autoplay="true" interval="3000">
      <swiper-item>长沙市{{weather}}</swiper-item>
      <swiper-item>{{date.cMonth}}月{{date.cDay}}日{{date.ncWeek}}</swiper-item>
      <swiper-item>农历{{date.IMonthCn}}{{date.IDayCn}}</swiper-item>
      <swiper-item>{{bj}}</swiper-item>
    </swiper>
  </view>
</view>
<view class="swiper-container">
  <swiper class="swiper1" indicator-dots="true" indicator-active-color="#fff" autoplay circular>
    <swiper-item wx:for="{{app.globalData.configs.slideshows}}" wx:key="id">
      <image src="{{app.globalData.staticHost}}/images/{{item.image}}"></image>
    </swiper-item>
  </swiper>
</view>

<action-items items="{{app.globalData.configs.functions}}"></action-items>

<view class="market-container" style="background-image: url({{app.globalData.staticHost}}/images/sign_3.gif);">
  <view style="flex: 1">
    <view class="market-title">{{app.globalData.configs.market.slogan}}</view>
  </view>
  <view class="market-action" bindtap="navigateToDiscount">
    <label>去看看</label>
  </view>
</view>

<view class="space"></view>
<view class="professional-coach">
  <view class="divider" custom-class="table-text" contentPosition="center">
    <view class="divider--hairline"></view>
    <image class="table-icon" src="../../images/yoga.png"></image>
    <text>专业教练</text>
    <view class="divider--hairline" style="margin:0 0 0 32rpx ;"></view>
  </view>
  <view class="professional-coach-container">
    <view class="professional-coach-item" wx:for="{{coaches}}" wx:key="id" bindtap="navigateToCoach" data-id="{{item.id}}">
      <image class="professional-coach-thumbnail" src="{{app.globalData.staticHost}}/images/{{item.thumbnail}}"></image>
      <view class="professional-coach-title">
        <text style="display: -webkit-box;-webkit-box-orient:vertical;overflow: hidden; -webkit-line-clamp: 1;text-overflow: ellipsis;">
          {{item.name}}
        </text>
        <text class="professional-coach-type">（{{item.coachType||'私教'}}）</text>
      </view>
      <text class="professional-coach-description">{{item.introduction}}</text>
    </view>
  </view>
</view>
<view class="space"></view>


<swiper class="promotional-container" vertical="true" circular="true" duration="300" autoplay="true" interval="3000">
  <swiper-item wx:for="{{prompts}}" wx:key="index">
    <view class="promotion-item-container" bindtap="handleNavigateToBook">
      <image class="market-image" src="{{item.avatar_url}}"></image>
      <view class="market-text">{{item.nick_name}}已预约课程</view>
      <view class="market-button">预约课程</view>
    </view>
  </swiper-item>
</swiper>

<view class="space"></view>

<view class="announcement-container">
  <view class="divider" custom-class="table-text" contentPosition="center">
    <view class="divider--hairline"></view>
    <image class="table-icon" src="../../images/announcement.png"></image>
    <text>公告</text>
    <view class="divider--hairline" style="margin:0 0 0 32rpx ;"></view>
  </view>

  <view class="announcement-list">
    <view class="announcement-item" wx:for="{{announcements}}" wx:key="id" data-id="{{item.id}}" bindtap="navigateToAnnouncement">
      <view class="announcement-item-title">
        {{item.title}}
      </view>
      <text class="announcement-item-subtitle">{{formattor.format(item.updated_time)}}</text>
    </view>
  </view>
</view>
<view class="space"></view>

<view class="copyright">版权归瑜伽约课工具所有</view>