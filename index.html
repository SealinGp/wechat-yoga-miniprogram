<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <textarea style="width: 300px; height: 300px;">
        1


        2
        3


        4

        5

    </textarea>
    <script>
        const textarea = document.querySelector('textarea');
        document.addEventListener('keydown', evt => {
            if (evt.key === 'F1') {
                evt.preventDefault();
                let start = textarea.selectionStart;
                let end = textarea.selectionEnd;
                while (start > 0) {
                    if (/\s/.test(textarea.value[start])) {
                        let j = 0;
                        while (start > 0 && /\s/.test(textarea.value[start])) {
                            if (textarea.value[start] === '\n') {
                                j++;
                            }
                            start--;
                        }
                        if (j > 2) {
                            break;
                        }
                    }
                    start--;
                }
                start++;
                while (end < textarea.value.length) {
                    if (/\s/.test(textarea.value[end])) {
                        let j = 0;
                        while (end < textarea.value.length > 0 && /\s/.test(textarea.value[end])) {
                            if (textarea.value[end] === '\n') {
                                j++;
                            }
                            end++;
                        }
                        if (j > 2) {
                            break;
                        }
                    }
                    end++;
                }
                console.log(start,end, textarea.value.substring(start,end))
            }
        })
    </script>
</body>

</html>